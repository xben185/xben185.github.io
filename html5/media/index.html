<html>
<head>
    <meta charset="utf-8">
    <title>UserMedia</title>
</head>
<body>
<video id="video" autoplay width="300" height="300"></video>
<script type="text/javascript">
    window.addEventListener('DOMContentLoaded', function() {
        // 获取元素  
        var video = document.getElementById('video'),
            videoObj = { 'video': true },
            errBack = function(error) {
                console.log('Video capture error: ', error.code);
            };

        // 设置video监听器  
        if(navigator.getUserMedia) { // Standard  
            navigator.getUserMedia(videoObj, function(stream) {
                video.src = stream;
                video.play();
            }, errBack);
        }
        else if (navigator.webkitGetUserMedia) { // WebKit-prefixed  
            navigator.webkitGetUserMedia(videoObj, function(stream) {
                video.src = window.webkitURL.createObjectURL(stream);
                video.play();  
            }, errBack);  
        }  
    }, false);
</script>
</body>
</html>